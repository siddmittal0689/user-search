{"ast":null,"code":"import * as types from './actionTypes';\nimport moment from \"moment\";\nconst campaignArray = [{\n  \"id\": 1,\n  \"name\": \"Divavu\",\n  \"startDate\": \"9/19/2017\",\n  \"endDate\": \"3/9/2018\",\n  \"Budget\": 88377,\n  \"userId\": 3\n}, {\n  \"id\": 2,\n  \"name\": \"Jaxspan\",\n  \"startDate\": \"11/21/2017\",\n  \"endDate\": \"2/21/2018\",\n  \"Budget\": 608715,\n  \"userId\": 6\n}, {\n  \"id\": 3,\n  \"name\": \"Miboo\",\n  \"startDate\": \"11/1/2017\",\n  \"endDate\": \"6/20/2017\",\n  \"Budget\": 239507,\n  \"userId\": 7\n}, {\n  \"id\": 4,\n  \"name\": \"Trilith\",\n  \"startDate\": \"8/25/2017\",\n  \"endDate\": \"11/30/2017\",\n  \"Budget\": 179838,\n  \"userId\": 1\n}, {\n  \"id\": 5,\n  \"name\": \"Layo\",\n  \"startDate\": \"11/28/2017\",\n  \"endDate\": \"3/10/2018\",\n  \"Budget\": 837850,\n  \"userId\": 9\n}, {\n  \"id\": 6,\n  \"name\": \"Photojam\",\n  \"startDate\": \"7/25/2017\",\n  \"endDate\": \"6/23/2017\",\n  \"Budget\": 858131,\n  \"userId\": 3\n}, {\n  \"id\": 7,\n  \"name\": \"Blogtag\",\n  \"startDate\": \"6/27/2017\",\n  \"endDate\": \"1/15/2018\",\n  \"Budget\": 109078,\n  \"userId\": 2\n}, {\n  \"id\": 8,\n  \"name\": \"Rhyzio\",\n  \"startDate\": \"10/13/2017\",\n  \"endDate\": \"1/25/2018\",\n  \"Budget\": 272552,\n  \"userId\": 4\n}, {\n  \"id\": 9,\n  \"name\": \"Zoomcast\",\n  \"startDate\": \"9/6/2018\",\n  \"endDate\": \"11/10/2019\",\n  \"Budget\": 3019190000,\n  \"userId\": 8\n}, {\n  \"id\": 10,\n  \"name\": \"Realbridge\",\n  \"startDate\": \"3/5/2018\",\n  \"endDate\": \"10/2/2017 \",\n  \"Budget\": 505602000000,\n  \"userId\": 5\n}];\nexport function loadUsersSuccess(users) {\n  return {\n    type: types.LOAD_USER_SUCCESS,\n    users\n  };\n}\nexport function showLoader(data) {\n  return {\n    type: types.SHOW_LOADER,\n    data\n  };\n}\n\n(function AddCampaigns(arr) {\n  if (Array.isArray(arr)) {\n    campaignArray.concat(arr);\n  } else {\n    console.log(\"AddCampaigns method accepts only array\");\n  }\n})();\n\nfunction transformArr(users) {\n  var filterArray = campaignArray.filter(item => {\n    if (moment(item.endDate) > moment(item.startDate)) {\n      users.find(user => {\n        if (user.id === item.userId) {\n          item.campaignName = user.name;\n        }\n      });\n\n      if (users.find(user => user.id === item.userId) === undefined) {\n        item.name = \"Unknown User\";\n      }\n\n      if (moment(item.endDate) >= moment()) {\n        item.status = \"Active\";\n      } else {\n        item.status = \"Inactive\";\n      }\n\n      return true;\n    }\n  });\n  return filterArray;\n}\n\nexport function loadUsers() {\n  return function (dispatch) {\n    dispatch(showLoader(true));\n    return fetch(\"https://jsonplaceholder.typicode.com/users\").then(response => response.json(), error => console.log('An error occurred.', error)).then(json => {\n      dispatch(loadUsersSuccess(transformArr(json)));\n      dispatch(showLoader(false));\n    });\n  };\n}","map":{"version":3,"sources":["C:\\user-new\\user-search\\src\\components\\actions\\index.js"],"names":["types","moment","campaignArray","loadUsersSuccess","users","type","LOAD_USER_SUCCESS","showLoader","data","SHOW_LOADER","AddCampaigns","arr","Array","isArray","concat","console","log","transformArr","filterArray","filter","item","endDate","startDate","find","user","id","userId","campaignName","name","undefined","status","loadUsers","dispatch","fetch","then","response","json","error"],"mappings":"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","sourcesContent":["import * as types from './actionTypes';\r\nimport moment from \"moment\";\r\nconst campaignArray = [\r\n  {\r\n    \"id\": 1,\r\n    \"name\": \"Divavu\",\r\n    \"startDate\": \"9/19/2017\",\r\n    \"endDate\": \"3/9/2018\",\r\n    \"Budget\": 88377,\r\n    \"userId\": 3\r\n  },\r\n  {\r\n    \"id\": 2,\r\n    \"name\": \"Jaxspan\",\r\n    \"startDate\": \"11/21/2017\",\r\n    \"endDate\": \"2/21/2018\",\r\n    \"Budget\": 608715,\r\n    \"userId\": 6\r\n  },\r\n  {\r\n    \"id\": 3,\r\n    \"name\": \"Miboo\",\r\n    \"startDate\": \"11/1/2017\",\r\n    \"endDate\": \"6/20/2017\",\r\n    \"Budget\": 239507,\r\n    \"userId\": 7\r\n  },\r\n  {\r\n    \"id\": 4,\r\n    \"name\": \"Trilith\",\r\n    \"startDate\": \"8/25/2017\",\r\n    \"endDate\": \"11/30/2017\",\r\n    \"Budget\": 179838,\r\n    \"userId\": 1\r\n  },\r\n  {\r\n    \"id\": 5,\r\n    \"name\": \"Layo\",\r\n    \"startDate\": \"11/28/2017\",\r\n    \"endDate\": \"3/10/2018\",\r\n    \"Budget\": 837850,\r\n    \"userId\": 9\r\n  },\r\n  {\r\n    \"id\": 6,\r\n    \"name\": \"Photojam\",\r\n    \"startDate\": \"7/25/2017\",\r\n    \"endDate\": \"6/23/2017\",\r\n    \"Budget\": 858131,\r\n    \"userId\": 3\r\n  },\r\n  {\r\n    \"id\": 7,\r\n    \"name\": \"Blogtag\",\r\n    \"startDate\": \"6/27/2017\",\r\n    \"endDate\": \"1/15/2018\",\r\n    \"Budget\": 109078,\r\n    \"userId\": 2\r\n  },\r\n  {\r\n    \"id\": 8,\r\n    \"name\": \"Rhyzio\",\r\n    \"startDate\": \"10/13/2017\",\r\n    \"endDate\": \"1/25/2018\",\r\n    \"Budget\": 272552,\r\n    \"userId\": 4\r\n  },\r\n  {\r\n    \"id\": 9,\r\n    \"name\": \"Zoomcast\",\r\n    \"startDate\": \"9/6/2018\",\r\n    \"endDate\": \"11/10/2019\",\r\n    \"Budget\": 3019190000,\r\n    \"userId\": 8\r\n  },\r\n  {\r\n    \"id\": 10,\r\n    \"name\": \"Realbridge\",\r\n    \"startDate\": \"3/5/2018\",\r\n    \"endDate\": \"10/2/2017 \",\r\n    \"Budget\": 505602000000,\r\n    \"userId\": 5\r\n  }\r\n];\r\nexport function loadUsersSuccess(users) {\r\n  return { type: types.LOAD_USER_SUCCESS, users };\r\n}\r\n\r\nexport function showLoader(data) {\r\n  return { type: types.SHOW_LOADER, data };\r\n}\r\n\r\n(function AddCampaigns(arr){\r\n  if(Array.isArray(arr)){\r\n    campaignArray.concat(arr);\r\n  } else {\r\n    console.log(\"AddCampaigns method accepts only array\");\r\n  }\r\n})();\r\n\r\nfunction transformArr(users) {\r\n      var filterArray = campaignArray.filter(item => {\r\n        if(moment(item.endDate) > moment(item.startDate)){\r\n          users.find(user => {\r\n            if(user.id === item.userId){\r\n              item.campaignName = user.name\r\n            }\r\n          })\r\n          if(users.find(user => user.id === item.userId) === undefined){\r\n            item.name = \"Unknown User\";\r\n          }\r\n          if(moment(item.endDate) >= moment()){\r\n            item.status = \"Active\";\r\n          } else{\r\n            item.status = \"Inactive\"\r\n          }\r\n          return true;\r\n        }\r\n       \r\n      });\r\n     return filterArray;\r\n}\r\n\r\nexport function loadUsers() {\r\n  \r\n    return function (dispatch) {\r\n        dispatch(showLoader(true));\r\n        return fetch(`https://jsonplaceholder.typicode.com/users`)\r\n        .then(\r\n            response => response.json(),\r\n            error => console.log('An error occurred.', error),\r\n        )\r\n        .then((json) => {\r\n            dispatch(loadUsersSuccess(transformArr(json)));\r\n            dispatch(showLoader(false));\r\n        },\r\n        );\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}